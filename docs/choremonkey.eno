# ChoreMonkey Event Model
# Household chore management with event sourcing

## Household Setup

[Create Household]
    â¹ï¸(name) -> ğŸŸ¦CreateHousehold(*householdId, name, *accessCode) -> ğŸŸ§HouseholdCreated(householdId, name, accessCode)

[Add First Member]
    ğŸŸ§HouseholdCreated -> ğŸŸ¦AddMember(householdId, *memberId, memberName, color) -> ğŸŸ§MemberAdded(householdId, memberId, memberName, color)

[Generate Invite]
    â¹ï¸(householdId) -> ğŸŸ¦GenerateInvite(householdId, *inviteCode) -> ğŸŸ§InviteGenerated(householdId, inviteCode)

[Join Household]
    â¹ï¸(inviteCode, memberName, color) -> ğŸŸ¦JoinHousehold(inviteCode, *memberId, memberName, color) -> ğŸŸ§MemberJoinedHousehold(householdId, memberId, memberName, color)

[Access Household]
    â¹ï¸(accessCode, memberId) -> ğŸŸ¦AccessHousehold(accessCode, memberId) -> ğŸŸ§AccessGranted(householdId, memberId)

## Chore Management

[Add Chore]
    â¹ï¸(name, frequency, assignedTo[], isOptional) -> ğŸŸ¦AddChore(householdId, *choreId, name, frequency, assignedTo[], assignToAll, isOptional) -> ğŸŸ§ChoreCreated(householdId, choreId, name, frequency, assignedTo[], assignToAll, isOptional)

[Add Bonus Chore]
    â¹ï¸(name, isOptional=true) -> ğŸŸ¦AddChore(householdId, *choreId, name, isOptional=true) -> ğŸŸ§ChoreCreated(householdId, choreId, name, isOptional=true)

[Assign Chore]
    â¹ï¸(choreId, assignedTo[]) -> ğŸŸ¦AssignChore(householdId, choreId, assignedTo[], assignToAll) -> ğŸŸ§ChoreAssigned(householdId, choreId, assignedTo[], assignToAll)

[Complete Chore]
    â¹ï¸(choreId, completedAt) -> ğŸŸ¦CompleteChore(householdId, choreId, memberId, completedAt) -> ğŸŸ§ChoreCompleted(householdId, choreId, memberId, completedAt)

## Read Models

[View Household]
    ğŸŸ§HouseholdCreated -> ğŸ“—HouseholdDetails(householdId, name, members[], accessCode) -> â¹ï¸(name, members[])
    ğŸŸ§MemberAdded ->
    ğŸŸ§MemberJoinedHousehold ->

[View Chore List]
    ğŸŸ§ChoreCreated -> ğŸ“—ChoreList*(choreId, name, frequency, assignedTo[], memberCompletions[]) -> â¹ï¸(chores[])
    ğŸŸ§ChoreAssigned ->
    ğŸŸ§ChoreCompleted ->

[View Chore History]
    ğŸŸ§ChoreCompleted -> ğŸ“—ChoreHistory*(choreId, completions[]) -> â¹ï¸(choreId, completions[])

[View Overdue Chores]
    ğŸŸ§ChoreCreated -> ğŸ“—MemberOverdue*(memberId, nickname, overdueCount, chores[]) -> â¹ï¸(memberOverdue[])
    ğŸŸ§ChoreAssigned ->
    ğŸŸ§ChoreCompleted ->
    # Note: Optional chores (isOptional=true) are excluded from overdue calculation

## Future: Automations

[Detect Missed Chore]
    ğŸŸ§ChoreCreated -> ğŸ“—DueChores*(choreId, dueDate, assignedTo[])
    âš™ï¸MissedChoreDetector -> ğŸŸ¦RecordMissedChore(choreId, memberId, date) -> ğŸŸ§ChoreMissed(choreId, memberId, date)

[Deduct Allowance]
    ğŸŸ§ChoreMissed -> ğŸ“—PendingDeductions*(memberId, amount)
    âš™ï¸AllowanceProcessor -> ğŸŸ¦DeductAllowance(memberId, amount) -> ğŸŸ§AllowanceDeducted(memberId, amount)
